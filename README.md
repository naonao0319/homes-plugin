# HomesPlugin

Minecraft Spigot/Paper サーバー向けの多機能ホーム管理 & テレポートプラグインです。
ホームの設定、GUIによる管理、経済連携、そしてプレイヤー間のテレポート（TPA）機能をこれ1つで提供します。

## ✨ 主な機能

*   **ホーム管理**:
    *   `/sethome <名前>` で現在地をホームに設定。
    *   `/home <名前>` で設定したホームへテレポート。
    *   `/delhome <名前>` でホームを削除。
*   **GUI操作**:
    *   `/homes` でGUIを開き、クリック操作でホーム一覧を確認・テレポート可能。
    *   他人の公開ホームへの訪問機能 (`/vhome`)。
*   **TPA (テレポートリクエスト)**:
    *   プレイヤー間でのテレポート申請・承認機能。
    *   `/tpa` (相手の場所へ行く) と `/tpahere` (相手を呼ぶ) に対応。
    *   チャットの【承認】【拒否】ボタンで簡単操作。
    *   クールダウン設定、テレポート前の待機時間（5秒）、移動キャンセル機能付き。
*   **Back機能**:
    *   `/back` でテレポート前の場所や死亡地点に戻ることが可能。
*   **経済連携**:
    *   Vaultプラグインと連携し、ホーム設定やテレポートにコストを設定可能。
*   **完全な日本語対応**:
    *   メッセージは `config.yml` ですべてカスタマイズ可能。

## 📥 インストール

1.  `target/home-plugin-1.6.8.jar` をサーバーの `plugins` フォルダに配置します。
2.  サーバーを再起動します。
3.  必要に応じて `plugins/HomesPlugin/config.yml` を編集してください。

## 📖 コマンド一覧

### ホーム関連
| コマンド | 説明 | 権限 |
| --- | --- | --- |
| `/sethome <名前>` | 現在地をホームとして設定します。 | `homes.use` |
| `/home <名前>` | 設定したホームへテレポートします。 | `homes.use` |
| `/delhome <名前>` | ホームを削除します。 | `homes.use` |
| `/homes` | ホーム一覧GUIを開きます。 | `homes.use` |
| `/homes reload` | プラグインの設定をリロードします。 | `homes.reload` |
| `/vhome <プレイヤー>` | 他のプレイヤーの公開ホームを表示します。 | `homes.use` |

### TPA・移動関連
| コマンド | 説明 |
| --- | --- |
| `/tpa <プレイヤー>` | 相手に自分のテレポートリクエストを送ります（相手の場所へ行く）。 |
| `/tpahere <プレイヤー>` | 相手を自分の場所に呼ぶリクエストを送ります（カモン）。 |
| `/tpaccept` | 届いているリクエストを承認します。 |
| `/tpdeny` | 届いているリクエストを拒否します。 |
| `/tpcancel <プレイヤー>` | 送ったリクエストをキャンセルします。 |
| `/tpatoggle` | TPAの受信拒否設定を切り替えます。 |
| `/tpaignore <プレイヤー>` | 特定のプレイヤーからのTPAを無視します。 |
| `/back` | 直前の場所（または死亡地点）に戻ります。 |

## ⚙️ 設定 (config.yml)

```yaml
settings:
  default-home-limit: 1  # デフォルトのホーム作成上限数
  teleport-delay: 3      # テレポート待機時間（秒）
  
  # TPA設定
  tpa:
    enabled: true        # TPA機能を有効にするか
    back-on-teleport: true # TPA使用時に移動元を/backに保存するか
    cooldown: 60         # TPAのクールダウン（秒）

  # Back設定
  back:
    enabled: true        # Back機能を有効にするか
    save-death-location: true # 死亡地点を/backに保存するか
```

## 📦 ビルド方法

Mavenを使用しています。

```bash
mvn clean package
```

## 📜 ライセンス

MIT License
