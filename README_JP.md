# HomesPlugin

[English](README.md) | [日本語](README_JP.md)

Minecraftサーバー（Spigot/Paper）向けの、堅牢で使いやすいホーム管理プラグインです。
このプラグインを使用すると、プレイヤーは複数のホームを設定し、GUIで管理し、さらに他のプレイヤーに公開することができます。

## 機能

*   **GUIベースの管理**: チェスト形式の直感的なインターフェースでホームを管理できます。
*   **複数のホーム**: プレイヤーは複数のホームを設定できます（設定で上限変更可能）。
*   **公開/非公開の切り替え**: ホームを公開して、他のプレイヤーが訪問できるように設定できます。
*   **経済システムのサポート**: Vaultと連携し、ホームの設定、テレポート、公開設定の変更に費用を設定できます。
*   **データベース対応**: H2（ローカルファイル、デフォルト）およびMySQL/MariaDBをサポートしています。
*   **タブ補完**: コマンドやプレイヤー名の入力時にスマートなタブ補完が利用できます。
*   **非同期処理**: 重いデータベース操作は非同期で処理され、サーバーのラグを防ぎます。
*   **ワールド別アイコン**: ワールドごとにホームのアイコン（ベッドの色など）をカスタマイズできます。

## コマンド

| コマンド | 説明 | 権限 |
| :--- | :--- | :--- |
| `/sethome <名前>` | 現在の位置にホームを設定します。 | `homes.use` |
| `/delhome <名前>` | 指定したホームを削除します。 | `homes.use` |
| `/home <名前>` | 指定したホームにテレポートします。 | `homes.use` |
| `/home <プレイヤー>:<名前>` | 他のプレイヤーの公開ホームにテレポートします。 | `homes.use` |
| `/homes` | ホーム管理GUIを開きます。 | `homes.use` |
| `/homes <プレイヤー>` | 他のプレイヤーの公開ホーム一覧を開きます。（管理者は全て閲覧可能） | `homes.use` |
| `/homes reload` | プラグインの設定をリロードします。 | `homes.reload` |

## 権限 (Permissions)

*   `homes.use`: 基本的なホーム機能の使用権限（デフォルト: true）。
*   `homes.admin`: 他人の非公開ホームの閲覧・管理権限（デフォルト: OP）。
*   `homes.reload`: プラグイン設定のリロード権限（デフォルト: OP）。
*   `homes.limit.<数値>`: プレイヤーが作成できるホームの最大数（例: `homes.limit.5`）。

## 設定 (Configuration)

### データベース
デフォルトではH2（ローカルファイルデータベース）を使用します。MySQL/MariaDBを使用する場合は、`config.yml`の `database.type` を変更してください。

```yaml
database:
  type: "mysql" # または "mariadb"
  host: "localhost"
  port: "3306"
  name: "minecraft"
  user: "root"
  password: "password"
```

### 経済システム (Economy)
Vaultおよび経済プラグイン（EssentialsXなど）が必要です。

```yaml
economy:
  cost:
    set-home: 100.0    # ホーム作成費用
    teleport: 10.0     # テレポート費用
    make-public: 500.0 # 公開設定費用
```

### GUIのカスタマイズ
`config.yml` でGUIのタイトル、アイコン、メッセージをカスタマイズできます。

## インストール方法

1.  `HomesPlugin-1.5.jar` をダウンロードします。
2.  サーバーの `plugins` フォルダに配置します。
3.  （オプション）経済機能を使用する場合は、Vaultと経済プラグインをインストールします。
4.  サーバーを再起動します。

## 開発者
Developed by naonao.
